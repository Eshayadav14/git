const handleSaveClick = async (updatedAddress: Address) => {
  // Update our local address list state immediately
  setAddressData((prevAddressData) =>
    prevAddressData?.map((address) =>
      address.ShippingZip === updatedAddress.ShippingZip
        ? updatedAddress
        : { ...address, IsDefaultShippingAddress: false }
    )
  );

  let resolvedResult;
  try {
    if (selectedAddress?.Id) {
      resolvedResult = await dispatch(
        getResolvedAddressAction({
          address: { ...updatedAddress, Id: selectedAddress.Id },
          isAuthenticated: user,
        })
      ).unwrap();
    } else {
      resolvedResult = await dispatch(
        getResolvedAddressAction({
          address: updatedAddress,
          isAuthenticated: user,
        })
      ).unwrap();
    }
  } catch (error) {
    // Handle error if needed. For now, simply return.
    return;
  }

  /*
    Decide what to do based on the returned resolvedResult:
    - If nothing is returned (or you determine that the address didn’t change in a way
      that requires a modal), assume it’s a simple update: clear selectedAddress and go back.
    - If the response has a suggestion (i.e. resolvedResult.ResolvedAddress exists),
      then set the enteredAddress and show the suggestion modal.
    - (Optionally, if you want to show a verify modal when no resolvedResult is returned,
      you can do that here as well.)
  */
  if (!resolvedResult) {
    // No resolved address returned → show verify modal.
    setEnteredAddress(updatedAddress);
    setShowVerifyModal(true);
  } else if (resolvedResult.ResolvedAddress) {
    // A suggested address is returned → remain on edit form and show the suggestion modal.
    setEnteredAddress(updatedAddress);
    setShowSuggestedModal(true);
  } else {
    // Otherwise (for example, when only a name is changed and no address suggestion is needed),
    // clear selectedAddress immediately to return to the list.
    setSelectedAddress(null);
  }
};