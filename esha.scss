useEffect(() => {

  const fetchCoupons = async () => {
    try {
      const selectedCategories: string[] = currentCategories;
      const selectedBrands: string[] = currentBrands;
      const authType = Cookies.get("authType");
      const isLoggedIn = authType === "1" ? "1" : "0";

      setAuthType(isLoggedIn);
      itemCount = 1;
      currentRow = 0;

      await dispatch(
        getCouponDetailAction({
          searchText: searchText || "",
          sortOrderPayload,
          sortByPayload,
          pageIndex: pageIndex * pageSize,
          pageSize,
          selectedCategories,
          selectedBrands,
          offerSourceType: filters.dealTypes.includes(COUPONS)
            ? 1
            : filters.dealTypes.includes(CASHBACK)
            ? 2
            : 0,
          authType,
          deviceId: Cookies.get("uniqueDeviceId"),
        })
      ).unwrap(); // Unwrap the promise

      setErrorMessage(""); // Clear error if successful
    } catch (error) {
      console.error("API failed:", error);
      setErrorMessage("API failed");
    }
  };

  fetchCoupons();
}, [
  sortByPayload,
  sortOrderPayload,
  searchText,
  currentBrands,
  currentCategories,
  pageIndex,
]);